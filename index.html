<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ìì„±ì–´ ë‹¨ì–´ ì°¾ê¸° ê²Œì„</title>
    <style>
        .word-search-container {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 10px;
            font-family: 'Noto Sans KR', sans-serif;
        }
        
        .game-title {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        
        .word-info {
            background-color: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .word-info h3 {
            color: #2c5aa0;
            margin-top: 0;
        }
        
        .grid-container {
            display: inline-block;
            background-color: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .word-grid {
            display: grid;
            grid-template-columns: repeat(10, 40px);
            gap: 2px;
            margin: 20px auto;
            width: fit-content;
        }
        
        .cell {
            width: 40px;
            height: 40px;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            background-color: #fff;
            transition: all 0.3s ease;
        }
        
        .cell:hover {
            background-color: #f0f0f0;
        }
        
        .cell.selected {
            background-color: #ffeb3b;
        }
        
        .cell.found {
            background-color: #4caf50;
            color: white;
        }
        
        .controls {
            text-align: center;
            margin-top: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        .btn-check {
            background-color: #2196f3;
            color: white;
        }
        
        .btn-check:hover {
            background-color: #1976d2;
        }
        
        .btn-reset {
            background-color: #f44336;
            color: white;
        }
        
        .btn-reset:hover {
            background-color: #d32f2f;
        }
        
        .message {
            text-align: center;
            margin-top: 15px;
            font-size: 18px;
            font-weight: bold;
            min-height: 25px;
        }
        
        .success {
            color: #4caf50;
        }
        
        .error {
            color: #f44336;
        }
        
        .hint {
            background-color: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <div class="word-search-container">
        <h2 class="game-title">ğŸ” ì‚¬ìì„±ì–´ ë‹¨ì–´ ì°¾ê¸° ê²Œì„</h2>
        
        <div class="word-info">
            <h3>ì˜¤ëŠ˜ì˜ ì‚¬ìì„±ì–´: ì²­ì¶œì–´ëŒ (é‘å‡ºæ–¼è—)</h3>
            <p><strong>ëœ»:</strong> ìª½ì—ì„œ ë‚˜ì˜¨ í‘¸ë¥¸ ë¬¼ê°ì´ ìª½ë³´ë‹¤ ë” í‘¸ë¥´ë‹¤ëŠ” ëœ»ìœ¼ë¡œ, ì œìê°€ ìŠ¤ìŠ¹ë³´ë‹¤ ë” ë›°ì–´ë‚¨ì„ ë¹„ìœ í•˜ëŠ” ë§ì…ë‹ˆë‹¤.</p>
            <p><strong>ìœ ë˜:</strong> ìˆœì(è€å­)ì˜ ê¶Œí•™í¸ì—ì„œ ë‚˜ì˜¨ ë§ë¡œ, "ì²­ì·¨ì§€ì–´ëŒ ì´ì²­ì–´ëŒ(é‘å–ä¹‹æ–¼è— è€Œé‘æ–¼è—)"ì—ì„œ ìœ ë˜í–ˆìŠµë‹ˆë‹¤.</p>
        </div>
        
        <div class="grid-container">
            <div class="word-grid" id="wordGrid"></div>
        </div>
        
        <div class="controls">
            <button class="btn btn-check" onclick="checkSelection()">ì •ë‹µ í™•ì¸</button>
            <button class="btn btn-reset" onclick="resetGame()">ë‹¤ì‹œ ì‹œì‘</button>
        </div>
        
        <div class="message" id="message"></div>
        
        <div class="hint">
            <strong>íŒíŠ¸:</strong> ê°€ë¡œ, ì„¸ë¡œ, ëŒ€ê°ì„  ë°©í–¥ìœ¼ë¡œ ì—°ì†ëœ 4ê¸€ìë¥¼ ì°¾ì•„ë³´ì„¸ìš”!
        </div>
    </div>

    <script>
        const gridSize = 10;
        const targetWord = ['ì²­', 'ì¶œ', 'ì–´', 'ëŒ'];
        let grid = [];
        let selectedCells = [];
        let foundWords = [];

        // ëœë¤ í•œê¸€ ìƒì„±
        function getRandomKorean() {
            const koreanChars = ['ê°€', 'ë‚˜', 'ë‹¤', 'ë¼', 'ë§ˆ', 'ë°”', 'ì‚¬', 'ì•„', 'ì', 'ì°¨', 'ì¹´', 'íƒ€', 'íŒŒ', 'í•˜', 'ê°•', 'ë‚¨', 'ë¶', 'ë™', 'ì„œ', 'ì‚°', 'ë¬¼', 'ë¶ˆ', 'ë¹›', 'ë‹¬', 'ë³„', 'í•´', 'êµ¬', 'ë¦„', 'ë¹„', 'ëˆˆ', 'ê½ƒ', 'ë‚˜', 'ë¬´', 'ìƒˆ', 'ë¬¼', 'ê³ ', 'ê¸°', 'ì‚¬', 'ëŒ', 'ì§‘', 'ì±…', 'ë¬¸', 'ì°½', 'ê¸¸', 'ëŒ'];
            return koreanChars[Math.floor(Math.random() * koreanChars.length)];
        }

        // ê·¸ë¦¬ë“œ ì´ˆê¸°í™”
        function initializeGrid() {
            grid = Array(gridSize).fill(null).map(() => Array(gridSize).fill(''));
            
            // ëœë¤í•˜ê²Œ ì±„ìš°ê¸°
            for (let i = 0; i < gridSize; i++) {
                for (let j = 0; j < gridSize; j++) {
                    grid[i][j] = getRandomKorean();
                }
            }
            
            // ì²­ì¶œì–´ëŒ ìˆ¨ê¸°ê¸° (ì—¬ëŸ¬ ìœ„ì¹˜ì—)
            placeWord();
            placeWord(); // ë‘ ë²ˆ ë°°ì¹˜
            
            renderGrid();
        }

        // ë‹¨ì–´ ë°°ì¹˜
        function placeWord() {
            const directions = [
                [0, 1],   // ê°€ë¡œ
                [1, 0],   // ì„¸ë¡œ
                [1, 1],   // ëŒ€ê°ì„  (ìš°í•˜)
                [1, -1]   // ëŒ€ê°ì„  (ì¢Œí•˜)
            ];
            
            let placed = false;
            let attempts = 0;
            
            while (!placed && attempts < 100) {
                const direction = directions[Math.floor(Math.random() * directions.length)];
                const startRow = Math.floor(Math.random() * gridSize);
                const startCol = Math.floor(Math.random() * gridSize);
                
                let valid = true;
                for (let i = 0; i < targetWord.length; i++) {
                    const newRow = startRow + direction[0] * i;
                    const newCol = startCol + direction[1] * i;
                    
                    if (newRow < 0 || newRow >= gridSize || newCol < 0 || newCol >= gridSize) {
                        valid = false;
                        break;
                    }
                }
                
                if (valid) {
                    for (let i = 0; i < targetWord.length; i++) {
                        const newRow = startRow + direction[0] * i;
                        const newCol = startCol + direction[1] * i;
                        grid[newRow][newCol] = targetWord[i];
                    }
                    placed = true;
                }
                
                attempts++;
            }
        }

        // ê·¸ë¦¬ë“œ ë Œë”ë§
        function renderGrid() {
            const gridElement = document.getElementById('wordGrid');
            gridElement.innerHTML = '';
            
            for (let i = 0; i < gridSize; i++) {
                for (let j = 0; j < gridSize; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.textContent = grid[i][j];
                    cell.dataset.row = i;
                    cell.dataset.col = j;
                    cell.onclick = () => toggleCell(i, j);
                    gridElement.appendChild(cell);
                }
            }
        }

        // ì…€ ì„ íƒ/í•´ì œ
        function toggleCell(row, col) {
            const cellKey = `${row}-${col}`;
            const cellElement = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
            
            if (foundWords.includes(cellKey)) return;
            
            const index = selectedCells.findIndex(cell => cell.key === cellKey);
            
            if (index > -1) {
                selectedCells.splice(index, 1);
                cellElement.classList.remove('selected');
            } else {
                if (selectedCells.length < 4) {
                    selectedCells.push({ row, col, key: cellKey });
                    cellElement.classList.add('selected');
                }
            }
        }

        // ì„ íƒ í™•ì¸
        function checkSelection() {
            if (selectedCells.length !== 4) {
                showMessage('4ê¸€ìë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!', 'error');
                return;
            }
            
            // ì„ íƒëœ ê¸€ì í™•ì¸
            const selectedChars = selectedCells.map(cell => grid[cell.row][cell.col]).join('');
            
            if (selectedChars === 'ì²­ì¶œì–´ëŒ') {
                selectedCells.forEach(cell => {
                    const cellElement = document.querySelector(`[data-row="${cell.row}"][data-col="${cell.col}"]`);
                    cellElement.classList.add('found');
                    cellElement.classList.remove('selected');
                    foundWords.push(cell.key);
                });
                showMessage('ì •ë‹µì…ë‹ˆë‹¤! ì²­ì¶œì–´ëŒì„ ì°¾ì•˜ìŠµë‹ˆë‹¤! ğŸ‰', 'success');
                selectedCells = [];
            } else {
                showMessage('ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”!', 'error');
                // ì˜ëª»ëœ ì„ íƒ ì´ˆê¸°í™”
                selectedCells.forEach(cell => {
                    const cellElement = document.querySelector(`[data-row="${cell.row}"][data-col="${cell.col}"]`);
                    cellElement.classList.remove('selected');
                });
                selectedCells = [];
            }
        }

        // ë©”ì‹œì§€ í‘œì‹œ
        function showMessage(text, type) {
            const messageElement = document.getElementById('message');
            messageElement.textContent = text;
            messageElement.className = `message ${type}`;
            
            setTimeout(() => {
                messageElement.textContent = '';
                messageElement.className = 'message';
            }, 3000);
        }

        // ê²Œì„ ë¦¬ì…‹
        function resetGame() {
            selectedCells = [];
            foundWords = [];
            initializeGrid();
            document.getElementById('message').textContent = '';
        }

        // ê²Œì„ ì‹œì‘
        initializeGrid();
    </script>
</body>
</html>
